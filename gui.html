<html>
    <head>
        <title>noobcraft</title>
        <script type="text/javascript"
            src="https://cdn.rawgit.com/brython-dev/brython/3.2.2/www/src/brython.js">
        </script>
    </head>

    <body onload="brython()">

        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="800" height="600" style="background:green;border-style:solid;border-width:1;border-color:#000;">
          <g id="panel">
          </g>
        </svg>

        <script type="text/python">
            from browser import document, svg
            from noobcraft.gameobjects import Game
            from noobcraft.players import InactivePlayer

            game = Game()
            game.addPlayer(InactivePlayer('Player1', 'red'))
            game.addPlayer(InactivePlayer('Player2', 'blue'))
            game.addPlayer(InactivePlayer('Player3', 'yellow'))
            game.addPlayer(InactivePlayer('Player4', 'orange'))
            game.addPlayer(InactivePlayer('Player5', 'cyan'))

            game.run()

            def renderBlob(x, y, color):
                ellipse = svg.ellipse(cx=x,cy=y, rx="30", ry="30", stroke="black",stroke_width="1",fill=color)
                panel = document['panel']
                panel <= ellipse

            for unit in game.world.units:
                renderBlob(400 + 200 * unit.x, 300 + 200 * unit.y, unit.player.color)
        </script>
    </body>
</html>
